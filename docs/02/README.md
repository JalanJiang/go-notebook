## 2.1 平台与架构

- 目前有 2 个版本的编译器：Go 原生编译器 gc 和非原生编译器 gccgo
- 在各个操作系统平台上的可移植性是非常强的，只需要将源码拷贝到相应平台上进行编译即可

### gc 编译器

- Go 语言的编译器和链接器都是使用 C 语言编写并产生本地代码

```
 g = 编译器：将源代码编译为项目代码（程序文本）
 l = 链接器：将项目代码链接到可执行的二进制文件（机器代码）
```

### gccgo 编译器

- GCC 是一款非常流行的 GNU 编译器，它能够构建基于众多处理器架构的应用程序

### 文件扩展名与包（package）

- Go 语言源文件的扩展名很显然就是 `.go`
- 所有的源代码文件都是通过包（packages）来组织

----

## 2.2 Go 环境变量

重要的环境变量：

- $GOROOT 表示 Go 在你的电脑上的安装位置，它的值一般都是 $HOME/go，当然，你也可以安装在别的地方。
- $GOARCH 表示目标机器的处理器架构，它的值可以是 386、amd64 或 arm。
- $GOOS 表示目标机器的操作系统，它的值可以是 darwin、freebsd、linux 或 windows。
- $GOBIN 表示编译器和链接器的安装位置，默认是 $GOROOT/bin，如果你使用的是 Go 1.0.3 及以后的版本，一般情况下你可以将它的值设置为空，Go 将会使用前面提到的默认值。
- $GOPATH 默认采用和 $GOROOT 一样的值，但从 Go 1.1 版本开始，你必须修改为其它路径。它可以包含多个 Go 语言源码文件、包文件和可执行文件的路径，而这些路径下又必须分别包含三个规定的目录：src、pkg 和 bin，这三个目录分别用于存放源码文件、包文件和可执行文件。
- $GOARM 专门针对基于 arm 架构的处理器，它的值可以是 5 或 6，默认为 6。
- $GOMAXPROCS 用于设置应用程序可使用的处理器个数与核数，详见第 14.1.3 节。

**Go 编译器支持交叉编译，也就是说你可以在一台机器上构建运行在具有不同操作系统和处理器架构上运行的应用程序，也就是说编写源代码的机器可以和目标机器有完全不同的特性（操作系统与处理器架构）。**

----

# 2.4 在 Mac OS X 上安装 Go

- [VS Code Go extensions](https://github.com/Microsoft/vscode-go/wiki/Go-tools-that-the-Go-extension-depends-on)
- [VS Code 中的代码自动补全和自动导入包](https://maiyang.me/post/2018-09-14-tips-vscode/)

----

## 2.7 Go 运行时（runtime）

- 尽管 Go 编译器产生的是本地可执行代码，这些代码仍旧运行在 Go 的 runtime（这部分的代码可以在 runtime 包中找到）当中
- 这个 runtime 类似 Java 和 .NET 语言所用到的虚拟机，它负责管理包括内存分配、垃圾回收（第 10.8 节）、栈处理、goroutine、channel、切片（slice）、map 和反射（reflection）等等
- Go 的可执行文件都比相对应的源代码文件要大很多，这恰恰说明了 Go 的 runtime 嵌入到了每一个可执行文件当中
- 在部署到数量巨大的集群时，较大的文件体积也是比较头疼的问题
- Go 不需要依赖任何其它文件，它只需要一个单独的静态文件

----

## 2.8 Go 解释器

> REPL 是编程语言可交互的 Shell。动态脚本语言基本都有，编译型语言不好实现。

Go 解释器：https://github.com/sbinet/igo